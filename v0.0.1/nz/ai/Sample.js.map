{"version":3,"sources":["nz/ai/Sample.coffee","nz/ai/Sample.js"],"names":["_g","nz","ref","ref1","window","global","ai","Sample","this","defaultAI","Default","ruleAI","Rule","rule","cond","param","distance","checkBackPosition","setup","setAttackCommand","setMoveBackCommand","setMoveCommand","checkShotRange","setShotCommand","prototype","setupBattlePosition","o","setupAction","add","system","addAI","SampleAI","call"],"mappings":"CAAA,WAAA,GAAAA,GAAAC,EAAAC,EAAAC,CAMAH,GAAA,mBAAAI,SAAA,OAAAA,OAAKA,OAASC,OACdJ,EAAKD,EAAGC,GAAH,OAAAC,EAAAF,EAAAC,IAAAC,KACLF,EAAK,OAELC,EAAGK,GAAH,OAAAH,EAAAF,EAAAK,IAAAH,KAEMF,EAAGK,GAAGC,OAAA,WAUG,QAAAA,KACXC,KAACC,UAAgB,GAAAR,GAAGK,GAAGI,QACvBF,KAACG,OAAgB,GAAAV,GAAGK,GAAGM,KAAKJ,MAE5BA,KAACK,MACCC,KAAM,SAACC,GAEL,MAAOA,GAAMC,UAAY,GAAMD,EAAME,qBACvCC,MAAO,SAACH,GAIN,MAFAA,GAAMI,mBACNJ,EAAMK,mBAAmB,KAClB,KACXZ,KAACK,MACCC,KAAM,SAACC,GAEL,MAAOA,GAAMC,UAAY,GAC3BE,MAAO,SAACH,GAIN,MAFAA,GAAMI,mBACNJ,EAAMM,kBACC,KACXb,KAACK,MACCC,KAAM,SAACC,GAEL,MAAOA,GAAMC,UAAY,GAAMD,EAAMO,kBACvCJ,MAAO,SAACH,GAIN,MAFAA,GAAMQ,iBACNR,EAAMK,mBAAmB,IAClB,KACXZ,KAACK,MACCC,KAAM,SAACC,GAEL,OAAO,GACTG,MAAO,SAACH,GAGN,MADAA,GAAMM,kBACC,KCoBX,MDlEFd,GAAAiB,UAAAC,oBAAqB,SAACC,GCKlB,MDLwBlB,MAACC,UAAUgB,oBAAoBC,IAA3DnB,EAAAiB,UACAG,YAAa,SAACD,GCQV,MDRgBlB,MAACG,OAAOgB,YAAYD,IADxCnB,EAAAiB,UAEAX,KAAM,SAACa,GCWH,MDXSlB,MAACG,OAAOiB,IAAIF,ICgEhBnB,KDlBXN,EAAG4B,OAAOC,MAAM,WAAgB,GAAA7B,GAAGK,GAAGyB,YCwBnCC,KAAKxB","file":"nz/ai/Sample.js","sourcesContent":["###*\n* @file Sample.coffee\n* サンプルAI\n###\n\n# node.js と ブラウザでの this.nz を同じインスタンスにする\n_g = window ? global\nnz = _g.nz = _g.nz ? {}\n_g = undefined\n\nnz.ai = nz.ai ? {}\n\nclass nz.ai.Sample\n\n  setupBattlePosition: (o) -> @defaultAI.setupBattlePosition o\n  setupAction: (o) -> @ruleAI.setupAction o\n  rule: (o) -> @ruleAI.add o\n\n  ###* 初期化\n  * @classdesc サンプルAIクラス\n  * @constructor nz.ai.Sample\n  ###\n  constructor: ->\n    @defaultAI = new nz.ai.Default()\n    @ruleAI    = new nz.ai.Rule(@)\n\n    @rule\n      cond: (param) ->\n        # 距離が１以下で後ろに移動ができる場合\n        return param.distance <= 1 and param.checkBackPosition()\n      setup: (param) ->\n        # 下がりつつ攻撃\n        param.setAttackCommand()\n        param.setMoveBackCommand(10)\n        return true\n    @rule\n      cond: (param) ->\n        # 距離が４以下の場合\n        return param.distance <= 4\n      setup: (param) ->\n        # ターゲットに移動攻撃\n        param.setAttackCommand()\n        param.setMoveCommand()\n        return true\n    @rule\n      cond: (param) ->\n        # 距離が６以下で射撃範囲にターゲットがいる場合\n        return param.distance <= 6 and param.checkShotRange()\n      setup: (param) ->\n        # 移動射撃\n        param.setShotCommand()\n        param.setMoveBackCommand(5)\n        return true\n    @rule\n      cond: (param) ->\n        # どれでもない時\n        return true\n      setup: (param) ->\n        # 近づく\n        param.setMoveCommand()\n        return true\n\nnz.system.addAI 'SampleAI', new nz.ai.SampleAI()\n",null],"sourceRoot":"/source/"}